---
lab:
  title: 探索 Voice Live API
  description: 了解如何使用和自訂 Azure AI Foundry 遊樂場中提供的 Voice Live API。
---

# 探索 Voice Live API

在本練習中，您將在 Azure AI Foundry 中建立代理程式，並在語音遊樂場中探索 Voice Live API。 

本練習大約需要 **30** 分鐘才能完成。

> <span style="color:red">**注意**：</span>本練習中使用的部分技術目前處於預覽狀態或正在開發中。 您可能會遇到一些非預期行為、警告或錯誤。

> <span style="color:red">**注意**：</span>本練習設計為在可直接存取電腦麥克風的瀏覽器環境中完成。 雖然可以在 Azure Cloud Shell 中探索這些概念，但互動式聲音功能需要本機音訊硬體存取。

## 建立 Azure AI Foundry 專案

讓我們從建立 Azure AI Foundry 專案開始。

1. 在網頁瀏覽器中，開啟 [Azure AI Foundry 入口網站](https://ai.azure.com) 於`https://ai.azure.com` 並使用您的 Azure 認證登入。 關閉首次登入時開啟的所有提示或快速啟動窗格，如有必要，使用左上角的 **Azure AI Foundry** 標誌瀏覽到首頁，首頁類似於下圖（若 [說明]**** 窗格已開啟，請將其關閉）：

    ![Azure AI Foundry 首頁的螢幕擷取畫面，其中已選取 [代理程式]。](../media/ai-foundry-new-home-page.png)

1. 在首頁中，選取 [建立代理程式]****。

1. 在 [建立代理程式]**** 精靈中，輸入專案的有效名稱。 

1. 選取 [進階選項]**** 並指定以下設定：
    - **Azure AI Foundry 資源**： *保留預設名稱*
    - **訂用帳戶**：您的 Azure 訂用帳戶**
    - **資源群組**：建立或選取資源群組**
    - **區域**：從下列選項隨機選取一個區域：\*
        - 美國東部 2
        - 瑞典中部

    > \* 在撰寫本文時，Voice Live API 僅支援先前列出的區域。 隨機選取位置有助於確保單一區域不會因流量而不堪負荷，並幫助您取得更順暢的體驗。 若達到服務限制，您可能需要在不同的區域中建立另一個專案。

1. 選取 [建立]**** 並檢閱您的設定。 等候設定程序完成。

    >**注意**：如果您收到權限錯誤，請選取 [修復]**** 按鈕新增適當的權限以繼續。

1. 建立專案後，您將預設進入 Azure AI Foundry 入口網站中的代理程式遊樂場，其看起來如下圖：

    ![Azure AI Foundry 入口網站中 Azure AI 專案詳細資料的螢幕螢幕擷取畫面。](../media/ai-foundry-project-2.png)

## 開始 Voice Live 範例

 在本節練習中，您將與其中一個代理互動。 

1. 在瀏覽窗格中選取 [遊樂場]****。

1. 找出 [語音遊樂場]**** 群組，然後選取 [試用語音遊樂場]**** 按鈕。

1. 語音遊樂場提供許多預建選項。 使用水平捲軸瀏覽至清單結尾，然後選取 [Voice Live]**** 圖格。 

    ![[Voice Live] 圖格的螢幕擷取畫面。](../media/voice-live-tile.png)

1. 在 [試用範例]**** 面板中選取 [閒聊]**** 代理程序範例。

1. 請確定您的麥克風和喇叭正常運作，然後選取頁面底部的 [開始]**** 按鈕。 

    與代理程式互動時，您可以打斷代理程式，程式會停下並聆聽。 在說話時，嘗試在單字和句子之間加入不同長度的暫停。 您會發現代理程式可以快速地辨識暫停並填寫對話。 完成時，選取 [結束]**** 按鈕。

1. 啟動其他範例代理程式，以探索其運作方式。

    探索不同的代理程式時，您會發現在 [設定]**** 面板上，[回應指示]**** 區段中的變更。

## Configure the agent 

在本節中，您將變更代理程式的聲音，並將虛擬人偶新增至 [閒聊]**** 代理程式。 **設定**面板分成三個區段：**GenAI**、**語音**和**虛擬人偶**。

>**注意：** 若您變更任何設定選項或與之互動，則需要選取 [設定] **** 面板底部的 [套用] **** 按鈕，以啟用代理程式。

選取 [閒聊]**** 代理程式。 接下來，使用下列指示變更代理程式的聲音，並新增虛擬人偶：

1. 選取 [>語音]**** 以展開區段並使用選項。

1. 選取 [聲音]**** 選項中的下拉功能表，然後選擇不同的聲音。

1. 選取 [套用]**** 以儲存您的變更，然後選取 [開始]**** 啟動代理程式並聽到變更。

    重複前面的步驟，嘗試幾種不同的聲音。 當您完成選取聲音後，請繼續進行下一個步驟。

1. 選取 [>虛擬人偶]**** 展開區段並使用選項。

1. 選取切換按鈕以啟用此功能，然後選取其中一個虛擬人偶。 

1. 選取 [套用]**** 以儲存您的變更，然後選取 [開始]**** 啟動代理程式。 

    您會發現虛擬人偶的動畫和音訊可以同步處理。

1. 展開 [> GenAI]**** 區段，並將 [主動式參與]**** 切換至關閉位置。 接下來，選取 [套用]**** 以儲存您的變更，然後選取 [開始]**** 啟動代理程式。

    **主動式參與**關閉後，代理程式將不會展開對話。 詢問代理程式「你能告訴我你是做什麼的嗎？」 以開始對話。

>**提示：** 您可以選取 [重設為預設值]****，然後選取 [套用]****，以將代理程式還原至預設行為。

完成後，請繼續下一節。

## 建立聲音代理程式

在本節中，您將從頭開始建立專屬聲音代理程式。

1. 在面板的 [打造專屬代理程式] **** 區段中，選取 [從空白頁開始]****。 

1. 展開 [設定]**** 面板的 [> GenAI ]**** 區段。

1. 選取 [生成式 AI 模型] **** 下拉式功能表，然後選擇 [GPT-4o Mini Realtime] **** 模型。

1. 在 [回應指示]**** 區段中新增下列文字。

    ```
    You are a voice agent named "Ava" who acts as a friendly car rental agent. 
    ```

1. 將 [回應溫度]**** 滑桿設定為 **0.8**。 

1. 將 [主動參與]**** 切換至 [開啟] 位置。

1. 選取 [套用]**** 以儲存您的變更，然後選取 [開始]**** 啟動代理程式。

    代理程式將自我介紹，並詢問今天需要提供什麼協助。 詢問代理程式「你週四是否有任何轎車可供出租？」 您會發現代理程式做出回應所需的時間。 詢問代理程式其他問題，看看其回應方式。 完成後，請繼續下一個步驟。

1. 展開 [設定]**** 面板的 [>語音]**** 區段。

1. 將 [表達結束 (EOU)]**** 切換按鈕設定至 [開啟]**** 位置。

1. 將 [音訊增強功能]**** 切換按鈕設定至 [開啟]**** 位置。

1. 選取 [套用]**** 以儲存您的變更，然後選取 [開始]**** 啟動代理程式。

    代理程式自我介紹結束後，詢問它「你有飛機可以出租嗎？」 您會發現代理程式在完成您的問題後，其回應速度會比先前更快速。 **表達結束 (EOU)** 設定會設定代理程式，根據內容和語意來偵測暫停和語音結束。 這可讓代理程式進行更自然的對話。

完成後，請繼續下一節。

## 清除資源

現在您已完成練習，您應該刪除建立的專案，以避免不必要的資源使用狀況。

1. 在 [AI Foundry] 導覽功能表中選取 [管理中心]****。
1. 在右側資訊窗格中選取 [刪除專案]****，然後確認刪除。

